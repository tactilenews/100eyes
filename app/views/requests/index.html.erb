<%= c 'main' do %>
  <%= c 'page_header', styles: [:largeMarginBottom, :spaceBetween, :wide]  do |header| %>
    <%= c 'heading', style: :alpha do %>
      <%= I18n.t 'request.request', count: :many %>
    <% end %>

    <% header.actions do %>
      <%= c 'button',
        label: I18n.t('request.create'),
        link: new_request_path
      %>
    <% end %>

    <% header.tab_bar do %>
      <%= c('tab_bar', items: {
        requests_path => {
          label: "Gestellt",
          active: @filter == :sent,
          count: @sent_requests_count
        },
        requests_path(filter: :planned) => {
          label: "Geplant",
          active: @filter == :planned,
          count: @planned_requests_count
        },
      }) %>
    <% end %>
  <% end %>

  <%= c 'section', styles: [:wide] do %>
    <% @requests.each do |request| %>
      <%= c 'request_row', request: request %>
    <% end %>
  <% end %>
<% end %>
