<%= c 'stack', space: :small do %>
  <%= c 'heading', tag: :h2 do %>
    <%= t('.heading') %>
  <% end %>

  <% if contributor.signal_onboarding_completed_at.present? %>
    <p>
      <%= t('.complete.text',
        name: contributor.name,
        phone_number: contributor.signal_phone_number&.phony_formatted || contributor.signal_uuid
      ) %>
    </p>
  <% else %>
    <%= c 'callout', style: :warning do %>
      <%= c 'stack', space: :small do %>
        <p>
          <%= t('.incomplete.text',
            name: contributor.name,
            first_name: contributor.first_name,
            date: l(contributor.created_at.to_date),
            phone_number: contributor.signal_phone_number&.phony_formatted  || contributor.signal_uuid
          ) %>
        </p>

        <%= c 'copy_button',
          style: :secondary,
          copy: onboarding_signal_link_url(signal_onboarding_token: contributor.signal_onboarding_token),
          label: t('.incomplete.action')
        %>
      <% end %>
    <% end %>
  <% end %>

<% end %>
